<template>
    <div class="slds-grid slds-wrap slds-gutters_direct">
        <!-- Metrics Cards -->
        <div class="slds-col slds-size_1-of-2 slds-medium-size_1-of-4 slds-p-bottom_small">
            <div class="metric-card">
                <div class="metric-value">{displayMetrics.totalCustomers}</div>
                <div class="metric-label">Total Customers</div>
                <div class="metric-detail">{displayMetrics.activeCustomers} active</div>
            </div>
        </div>

        <div class="slds-col slds-size_1-of-2 slds-medium-size_1-of-4 slds-p-bottom_small">
            <div class="metric-card metric-card--highlight">
                <div class="metric-value">{displayMetrics.pendingActions}</div>
                <div class="metric-label">Pending Actions</div>
                <div class="metric-detail">Needs attention</div>
            </div>
        </div>

        <div class="slds-col slds-size_1-of-2 slds-medium-size_1-of-4 slds-p-bottom_small">
            <div class="metric-card metric-card--success">
                <div class="metric-value">{displayMetrics.agentActionsToday}</div>
                <div class="metric-label">Agent Actions Today</div>
                <div class="metric-detail">Automated</div>
            </div>
        </div>

        <div class="slds-col slds-size_1-of-2 slds-medium-size_1-of-4 slds-p-bottom_small">
            <div class="metric-card">
                <div class="metric-value">{displayMetrics.humanInterventionsToday}</div>
                <div class="metric-label">Human Interventions</div>
                <div class="metric-detail">Today</div>
            </div>
        </div>
    </div>

    <!-- Autonomy Bar -->
    <div class="slds-m-top_small">
        <div class="slds-grid slds-grid_align-spread slds-m-bottom_xx-small">
            <span class="slds-text-body_small">Agent Automation Rate</span>
            <span class="slds-text-body_small slds-text-color_weak">{automationPercentage}%</span>
        </div>
        <div class="progress-bar">
            <div class="progress-bar__fill progress-bar__fill--agent" style={agentBarStyle}></div>
            <div class="progress-bar__fill progress-bar__fill--human" style={humanBarStyle}></div>
        </div>
        <div class="slds-grid slds-grid_align-spread slds-m-top_xx-small">
            <span class="slds-text-body_small slds-text-color_weak">
                <span class="legend-dot legend-dot--agent"></span> Agent
            </span>
            <span class="slds-text-body_small slds-text-color_weak">
                <span class="legend-dot legend-dot--human"></span> Human
            </span>
        </div>
    </div>

    <!-- Autonomy Level Badge -->
    <div class="slds-m-top_small slds-text-align_center">
        <span class={autonomyBadgeClass}>
            <lightning-icon icon-name={autonomyIcon} size="xx-small" class="slds-m-right_xx-small"></lightning-icon>
            {portfolio.autonomyLevel}
        </span>
    </div>
</template>
